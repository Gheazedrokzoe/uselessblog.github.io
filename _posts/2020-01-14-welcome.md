### CF 1647E
好题！

不难注意到每一轮次新增人数固定，所以我们可以简单算出一共进行了多少轮。

然后转换一下思路，把踢掉人的操作看作保留，但是最后集合内显示出的是当前桌子人集合中编号最小的那个人。于是我们考虑每一个位置上的数初始最后会在这么多轮后去到哪个位置。这个可以通过倍增预处理。

从 1 到 $n$ 贪心地填。对于出现在最终序列中的数，我们看哪些初始位置可以到达最终其所在的位置（注意这些位置在之前一定是空着的），贪心地填向最前面的位置。对于没出现在最终序列中的数，我们把它填在当前可以填的位置的最前的那个位置即可。